{"version":3,"sources":["components/Header.js","components/Field.js","components/AddShow.js","components/Login.js","components/Shows.js","components/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","to","Field","name","label","value","type","placeholder","onChange","htmlFor","id","AddShow","props","useState","host","setHost","description","setDescription","date","setDate","iframe","setIframe","tags","setTags","history","useHistory","addRecord","e","a","preventDefault","fetch","method","headers","body","JSON","stringify","ok","onAdd","console","log","push","window","location","reload","onSubmit","target","Login","email","setEmail","password","setPassword","error","setError","handleSubmit","response","json","data","Error","message","getUser","required","Shows","showsRev","shows","slice","reverse","map","show","Date","width","height","title","_id","src","frameBorder","style","textTransform","toDateString","Footer","href","App","setShows","undefined","user","setUser","getShows","useCallback","credentials","useEffect","exact","path","component","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5dad1e3e.chunk.js","sourcesContent":["import React, {Fragment} from 'react';\nimport { Link } from \"react-router-dom\";\n\nconst Header = () => {\n\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"ui secondary pointing menu\">\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t<h1>\n\t\t\t\t\tRadio Archive\n\t\t\t\t</h1>\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"right menu\">\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<Link to=\"/login\">Admin</Link>\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</Fragment>\n\t)\n\n}\n\nexport default Header;","import React from \"react\";\n\nconst Field = ({ name, label, value, type,placeholder, onChange }) => (\n  <div className=\"field\">\n  <label htmlFor={`field-`}>{label}</label>\n  <input\n  id={`field-`}\n  name={name}\n  type={type}\n  value={value}\n  onChange={onChange}\n  placeholder={placeholder}\n  />\n  </div>\n);\n\nexport default Field;\n","import React, {Fragment, useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport Field from './Field';\n\nconst AddShow = (props) => {\n\tconst [host, setHost] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [date, setDate] = useState(\"\");\n\tconst [iframe, setIframe] = useState(\"\");\n\tconst [tags, setTags] = useState(\"\");\n\n\t\n\tlet history = useHistory();\nconst addRecord = async (e) => {\n e.preventDefault();\n try {\n   const response = await fetch(\"/api/shows/add\", {\n     method: \"POST\",\n     headers: { \"Content-Type\": \"application/json\" },\n     // Add address here:\n     body: JSON.stringify({ host, description, date, iframe, tags})\n\t });\n      if (response.ok) {\n        props.onAdd();\n      } else {\n\t\t\t\tconsole.log(\"Error when saving record\");\n      }\n    } catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t\thistory.push('/')\n\t\twindow.location.reload(false);\n\t} \n\n\n\t\n\treturn (\n\t\t<Fragment>\n\t\t\t<form onSubmit={addRecord} className=\"ui form error\">\n\t\t\t\t<div className=\"ui equal width form\">\n\t\t\t\t\t<div className=\"fields\">\n\t\t\t\t<Field\n\t\t\t\tlabel=\"Host Name\"\n\t\t\t\tvalue={host}\n\t\t\t\tname=\"host name\"\n\t\t\t\tonChange={e =>\n\t\t\t\tsetHost(e.target.value)\n\t\t\t\t} />\n\t\t\t\t<Field\n\t\t\t\tlabel=\"Description\"\n\t\t\t\tvalue={description}\n\t\t\t\tname=\"description\"\n\t\t\t\tonChange={e => setDescription(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"fields\">\n\t\t\t\t<Field\n\t\t\t\tlabel=\"Date\"\n\t\t\t\tvalue={date}\n\t\t\t\tname=\"Date\"\n\t\t\t\tplaceholder=\"YYYY-MM-DD\"\n\t\t\t\tonChange={e => setDate(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\tlabel=\"Tags\"\n\t\t\t\tvalue={tags}\n\t\t\t\tname=\"tag\"\n\t\t\t\tonChange={e => setTags(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\tlabel=\"File Link\"\n\t\t\t\tvalue={iframe}\n\t\t\t\tname=\"file link\"\n\t\t\t\tplaceholder=\"Insert ONLY the link contained in the iframe embed from the Picture Widget\"\n\t\t\t\tonChange={e => setIframe(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className=\"ui button\" type=\"submit\" value=\"Save\">Save</button>\n\t\t\t</form>\n\t\t</Fragment>\n\t)\n}\n\nexport default AddShow;","import { Fragment, useState } from 'react';\nimport { useHistory} from 'react-router-dom';\n\nimport Field from './Field';\n\n\nconst Login = (props) => {\n\tconst [email, setEmail] = useState(\"\")\n\tconst [password, setPassword] = useState(\"\")\n  const [ error, setError ] = useState('');\n\n\n\tlet history = useHistory();\n\tconst handleSubmit = async (e) => {\n\t\ttry {\n\t\t\te.preventDefault();\n   const response = await fetch(\"/api/users/login\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n\t\t\t});\n\t\t\tconsole.log(response)\n\t\t\tconst data = await response.json();\n\t\t\tconsole.log(data)\n      if (!response.ok) {\n        throw new Error(data.message);\n      }\n\n      props.getUser();\n    } catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(err.message)\n\t\t}\n\t\thistory.push('/upload')\n\t\t\n\t};\n\t\n\treturn (\n\t\t<Fragment>\n\t\t\t<form onSubmit={handleSubmit} className=\"ui form error\">\n\t\t\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tname=\"Email Address\"\n\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tid={password}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t{error && <div className=\"ui error message\">{error}</div>}\n\n\t\t\t\t\t\n\t\t\t\t\t<button type=\"submit\" className=\"ui submit button\">\t\t\t\n\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</button>\n\t\t</form>\n\n\n\t\t</Fragment>\n\t)\n}\n\n\nexport default Login","\nimport '../styles.css';\n\n\nconst Shows = ({shows})=> {\n  const showsRev = shows.slice().reverse();\n\n  return (\n    <div className=\"shows-archive\">\n      <h1>Past Shows:</h1>\n\n      <div className=\"container\">\n        {showsRev.map(show => {\n          const date = new Date(show.date)\n        return (\n        <div key={show._id} className=\"card\">\n          <div className=\"ui fluid card\">\n            <div className=\"image\">\n            <iframe width=\"100%\" height=\"100%\" title={show._id} src={show.iframe} frameBorder=\"0\" ></iframe> \n            </div>\n            <div className=\"content\">\n              <div className=\"header\">{show.host}</div>\n              <p style={{textTransform:\"capitalize\"}}>{show.description}</p>\n              <div className=\"meta\">\n              <p>{date.toDateString()}</p>\n              <p>{show.tags}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n      })}\n      </div>\n    </div>\n  )\n}\n\nexport default Shows","const Footer = () => {\n\treturn (\n\t\t<div className=\"ui segment\">\n\t\t\t<h5 className=\"ui center aligned header\">\n\t\t\t\tCreated at <a href=\"https://junocollege.com/\">\n\t\t\t\t\tJuno College\n\t\t\t\t</a>\n\t\t\t</h5>\n\t\t\t</div>\n\t)\n}\n\nexport default Footer","import {useEffect, useState, useCallback} from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\n\nimport Header from './components/Header'\nimport AddShow from './components/AddShow';\nimport Login from './components/Login';\nimport Shows from './components/Shows';\nimport Footer from './components/Footer';\n\n\nfunction App() {\n  const [shows, setShows] = useState([]);\n  const [user, setUser] = useState(undefined)\n\n  const getShows = useCallback(async function() {\n    try {\n      const response = await fetch(\"/api/shows/\", {\n        headers: {\n          credentials: 'include',\n        },\n      });\n      const json = await response.json();\n      if (!response.ok) {\n        throw new Error(json.message);\n      }\n\n      setShows(json);\n    } catch (err) {\n      setShows([]);\n    }\n  }, []);\n\n  const getUser = useCallback(async function() {\n    try {\n      const response = await fetch(\"/api/users/me\", {\n        headers: {\n          credentials: 'include',\n        },\n      });\n      const json = await response.json();\n      if (!response.ok) {\n        throw new Error(json.message);\n      }\n\n      setUser(json.data);\n    } catch (err) {\n      setUser(undefined);\n    }\n  }, []);\n\n  useEffect(() => {\n   getShows();\n   getUser();\n\n  },\n   [getShows, getUser])\n\n\n  return (\n    <div className=\"ui container\">\n\n      <Header />\n        <Switch>\n          \n          {/* on intial render, show the Shows.js page with a log in button */}\n        <Route exact path=\"/\" component={() => <Shows shows={shows}/>} />\n\n          {/* on login, i want the user to log in with admin creds. if successfully logged in, redirect to upload page */}\n        <Route path=\"/login\"\n        render={props => {\n          if (!user) {\n            return <Login getUser={getUser} {...props} />\n          }\n        return <Redirect to=\"/upload\" />\n        }} />\n        {/* once finished with upload page, redirect to Shows.js */}\n\n        <Route path=\"/upload\" component={AddShow} />\n\n        </Switch>\n        <Footer />\n      </div>\n  )\n    }\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}